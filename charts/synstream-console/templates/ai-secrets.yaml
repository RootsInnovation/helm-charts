{{- if and .Values.ai.enabled .Values.ai.secrets.create }}
apiVersion: v1
kind: Secret
metadata:
  name: synstream-ai-secrets
  labels:
    {{- include "synstream.componentLabels" (dict "name" "synstream-ai" "workloadType" "statefulset" "Chart" .Chart "Release" .Release) | nindent 4 }}
type: Opaque
stringData:
  # OpenAI API Keys
  {{- if .Values.ai.secrets.openai0ApiKey }}
  OPENAI_0_API_KEY: {{ .Values.ai.secrets.openai0ApiKey | quote }}
  {{- end }}
  {{- if .Values.ai.secrets.openai1ApiKey }}
  OPENAI_1_API_KEY: {{ .Values.ai.secrets.openai1ApiKey | quote }}
  {{- end }}
  # Gemini API Key
  {{- if .Values.ai.secrets.gemini0ApiKey }}
  GEMINI_0_API_KEY: {{ .Values.ai.secrets.gemini0ApiKey | quote }}
  {{- end }}
  # Anthropic API Key
  {{- if .Values.ai.secrets.anthropic0ApiKey }}
  ANTHROPIC_0_API_KEY: {{ .Values.ai.secrets.anthropic0ApiKey | quote }}
  {{- end }}
  # OpenAI-Compatible API Key
  {{- if .Values.ai.secrets.openaiCompatible0ApiKey }}
  OPENAI_COMPATIBLE_0_API_KEY: {{ .Values.ai.secrets.openaiCompatible0ApiKey | quote }}
  {{- end }}
{{- end }}

